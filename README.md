# 就職作品 : **VS ファントム**
## この作品について
この作品は、「**ゼルダの伝説 風のタクト**」に登場する中ボス、「**ファントムガノン**」との戦いを再現するために開発している作品です。[^1]
![ゲームプレイ画像](Github/ラリー時画像.png)
[作品プレイ映像はこちら](https://youtu.be/x2WuLgSkXnI)
[^1]: [ファントムガノン戦参考動画](https://www.youtube.com/watch?v=9eoUYuAO9wI)

## 作品で実装したもの
### Z注目(ロックオン)
コントローラーの_左トリガー_を押し込むことで**Z注目**を行います。  
注目時の角度は、ロックオン開始時に**敵がどこにいるか**で変化するようになっています。  
ロックオンできる対象が画面内にいない場合、プレイヤーの背面にカメラが回り込みます。

### 敵との弾のラリー
敵が発射した弾を、**通常攻撃で打ち返す**ことができ、複数回繰り返すと敵が**ダウン**します。  
ダウンした敵には、攻撃を行うことができます。

### コンボ作成システム
プレイヤーのコンボ攻撃をImGui上から**作成、編集、保存**ができる機能です。  
コンボ作成や編集のためのエディターをImGuiで作成しています。  
再生するアニメーションや、攻撃段数、硬直時間等を編集することが可能で、保存するとjson形式のファイルで保存が行われます。  
コンボ攻撃中、特定の変数の条件を満たした際に指定した任意の別のコンボに切り替えられる機能を実装しています。  
これには、コンボを管理する`ComboManager`に対して、**条件となる変数を追加**する必要があります。    
実際のゲーム内でコンボを変更する場合は、`ComboManager`に対して、**コンボ変更関数**を呼び出すことでコンボ攻撃の内容が変化するようになっています。  
[コンボ作成システムに関するソースコードはこちら](https://github.com/Yuki-Toyoda/KEngine/tree/WPO_00_dev/App/GameObject/User/Player/Combo)
>[!TIP]
>コンボマネージャー上で編集できる項目  
>1.  行動名 `文字列`
>2. 行動中に再生されるアニメーション名 `文字列`  
>3. アニメーション終了まで次の行動に遷移しないか `bool`  
>4. 硬直時間 `float (秒数)`  
>5. 次の行動に移るまでの受付時間 `float (秒数)`  
>6. 行動中に攻撃判定が発生するか  `bool`
>7. (攻撃判定が存在する場合のみ) ダメージ `int`  
>8. (攻撃判定が存在する場合のみ) 攻撃範囲の長さ `float`
>9. (攻撃判定が存在する場合のみ) 攻撃開始時間 `float (秒数)`
>10. (攻撃判定が存在する場合のみ) 攻撃終了時間 `float (秒数)`
>11. (硬直時間終了している場合) 移動した際にコンボを中断するか `bool`  
>12. 次の行動に移行する条件 `ラジオボタンで選択 (TRIGGER, PRESS, RELEASE)`
>13. コンボの切り替え条件名 `文字列`
>14. 切り替えるコンボ名称 `文字列`
